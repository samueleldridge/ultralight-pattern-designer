/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/langchain_core/_api/deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  from pydantic.v1.fields import FieldInfo as FieldInfoV1
2026-02-01 09:04:36,372 - app.main - INFO - [main.py:32] - ==================================================
2026-02-01 09:04:36,372 - app.main - INFO - [main.py:33] - Starting AI Analytics Platform API
2026-02-01 09:04:36,372 - app.main - INFO - [main.py:34] - Python version: 3.14.2 (v3.14.2:df793163d58, Dec  5 2025, 12:18:06) [Clang 16.0.0 (clang-1600.0.26.6)]
2026-02-01 09:04:36,372 - app.main - INFO - [main.py:35] - Environment: development
2026-02-01 09:04:36,372 - app.main - INFO - [main.py:36] - ==================================================
2026-02-01 09:04:36,372 - app.main - INFO - [main.py:81] - CORS allowed origins: ['http://localhost:3000', 'http://127.0.0.1:3000', 'http://localhost:3001', 'http://127.0.0.1:3001']
2026-02-01 09:04:36,374 - app.main - INFO - [main.py:176] - ✓ Registered router: /api
2026-02-01 09:04:36,375 - app.main - INFO - [main.py:176] - ✓ Registered router: /api/dashboards
2026-02-01 09:04:36,377 - app.main - INFO - [main.py:176] - ✓ Registered router: /api/suggestions
2026-02-01 09:04:36,377 - app.main - INFO - [main.py:176] - ✓ Registered router: /api/connections
2026-02-01 09:04:36,379 - app.main - INFO - [main.py:176] - ✓ Registered router: /api/intelligence
INFO:     Started server process [39022]
INFO:     Waiting for application startup.
2026-02-01 09:04:36,386 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-01 09:04:36,386 - sqlalchemy.engine.Engine - INFO - [base.py:2710] - BEGIN (implicit)
2026-02-01 09:04:36,386 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("documents")
2026-02-01 09:04:36,386 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("documents")
2026-02-01 09:04:36,386 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,386 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,387 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("documents")
2026-02-01 09:04:36,387 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("documents")
2026-02-01 09:04:36,387 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,387 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,388 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("document_chunks")
2026-02-01 09:04:36,388 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("document_chunks")
2026-02-01 09:04:36,388 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,388 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,388 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("document_chunks")
2026-02-01 09:04:36,388 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("document_chunks")
2026-02-01 09:04:36,388 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,388 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,389 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tenants")
2026-02-01 09:04:36,389 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("tenants")
2026-02-01 09:04:36,389 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,389 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,390 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("tenants")
2026-02-01 09:04:36,390 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("tenants")
2026-02-01 09:04:36,390 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,390 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,390 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-02-01 09:04:36,390 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("users")
2026-02-01 09:04:36,390 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,390 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,390 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("users")
2026-02-01 09:04:36,390 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("users")
2026-02-01 09:04:36,390 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,390 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,391 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("question_history")
2026-02-01 09:04:36,391 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("question_history")
2026-02-01 09:04:36,391 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,391 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,391 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("question_history")
2026-02-01 09:04:36,391 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("question_history")
2026-02-01 09:04:36,391 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,391 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,391 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user_profiles")
2026-02-01 09:04:36,391 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("user_profiles")
2026-02-01 09:04:36,391 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,391 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,392 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("user_profiles")
2026-02-01 09:04:36,392 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("user_profiles")
2026-02-01 09:04:36,392 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,392 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,392 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("database_connections")
2026-02-01 09:04:36,392 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("database_connections")
2026-02-01 09:04:36,392 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,392 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,392 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("database_connections")
2026-02-01 09:04:36,392 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("database_connections")
2026-02-01 09:04:36,392 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,392 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,393 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("dashboards")
2026-02-01 09:04:36,393 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("dashboards")
2026-02-01 09:04:36,393 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,393 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,393 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("dashboards")
2026-02-01 09:04:36,393 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("dashboards")
2026-02-01 09:04:36,393 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,393 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,393 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("dashboard_views")
2026-02-01 09:04:36,393 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("dashboard_views")
2026-02-01 09:04:36,393 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,393 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,394 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("dashboard_views")
2026-02-01 09:04:36,394 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("dashboard_views")
2026-02-01 09:04:36,394 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,394 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,394 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("proactive_insights")
2026-02-01 09:04:36,394 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA main.table_info("proactive_insights")
2026-02-01 09:04:36,394 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,394 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,395 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("proactive_insights")
2026-02-01 09:04:36,395 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - PRAGMA temp.table_info("proactive_insights")
2026-02-01 09:04:36,395 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-01 09:04:36,395 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [raw sql] ()
2026-02-01 09:04:36,395 INFO sqlalchemy.engine.Engine 
CREATE TABLE tenants (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	slug VARCHAR NOT NULL, 
	"plan" VARCHAR, 
	settings JSON, 
	created_at DATETIME, 
	updated_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (slug)
)


2026-02-01 09:04:36,395 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - 
CREATE TABLE tenants (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	slug VARCHAR NOT NULL, 
	"plan" VARCHAR, 
	settings JSON, 
	created_at DATETIME, 
	updated_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (slug)
)


2026-02-01 09:04:36,395 INFO sqlalchemy.engine.Engine [no key 0.00005s] ()
2026-02-01 09:04:36,395 - sqlalchemy.engine.Engine - INFO - [base.py:1846] - [no key 0.00005s] ()
2026-02-01 09:04:36,428 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-01 09:04:36,428 - sqlalchemy.engine.Engine - INFO - [base.py:2713] - ROLLBACK
2026-02-01 09:04:36,428 - app.main - ERROR - [main.py:47] - ✗ Failed to initialize database: (sqlite3.OperationalError) table tenants already exists
[SQL: 
CREATE TABLE tenants (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	slug VARCHAR NOT NULL, 
	"plan" VARCHAR, 
	settings JSON, 
	created_at DATETIME, 
	updated_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (slug)
)

]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 182, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 342, in _handle_exception
    raise error
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 164, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/core.py", line 160, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/core.py", line 63, in _connection_worker_thread
    result = function()
sqlite3.OperationalError: table tenants already exists

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/app/main.py", line 44, in lifespan
    await init_db()
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/app/database.py", line 50, in init_db
    await conn.run_sync(Base.metadata.create_all)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/engine.py", line 888, in run_sync
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
        fn, self._proxied, *arg, _require_await=False, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/schema.py", line 5928, in create_all
    bind._run_ddl_visitor(
    ~~~~~~~~~~~~~~~~~~~~~^
        ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2467, in _run_ddl_visitor
    ).traverse_single(element)
      ~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py", line 984, in visit_metadata
    self.traverse_single(
    ~~~~~~~~~~~~~~~~~~~~^
        table,
        ^^^^^^
    ...<2 lines>...
        _is_metadata_operation=True,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py", line 1022, in visit_table
    )._invoke_with(self.connection)
      ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py", line 321, in _invoke_with
    return bind.execute(self)
           ~~~~~~~~~~~~^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py", line 187, in _execute_on_connection
    return connection._execute_ddl(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1530, in _execute_ddl
    ret = self._execute_context(
        dialect,
    ...<4 lines>...
        compiled,
    )
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 182, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 342, in _handle_exception
    raise error
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 164, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/core.py", line 160, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/core.py", line 63, in _connection_worker_thread
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table tenants already exists
[SQL: 
CREATE TABLE tenants (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	slug VARCHAR NOT NULL, 
	"plan" VARCHAR, 
	settings JSON, 
	created_at DATETIME, 
	updated_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (slug)
)

]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:    Traceback (most recent call last):
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 182, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 342, in _handle_exception
    raise error
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 164, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/core.py", line 160, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/core.py", line 63, in _connection_worker_thread
    result = function()
sqlite3.OperationalError: table tenants already exists

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/app/main.py", line 44, in lifespan
    await init_db()
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/app/database.py", line 50, in init_db
    await conn.run_sync(Base.metadata.create_all)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/engine.py", line 888, in run_sync
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
        fn, self._proxied, *arg, _require_await=False, **kw
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/schema.py", line 5928, in create_all
    bind._run_ddl_visitor(
    ~~~~~~~~~~~~~~~~~~~~~^
        ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2467, in _run_ddl_visitor
    ).traverse_single(element)
      ~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py", line 984, in visit_metadata
    self.traverse_single(
    ~~~~~~~~~~~~~~~~~~~~^
        table,
        ^^^^^^
    ...<2 lines>...
        _is_metadata_operation=True,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py", line 1022, in visit_table
    )._invoke_with(self.connection)
      ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py", line 321, in _invoke_with
    return bind.execute(self)
           ~~~~~~~~~~~~^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py", line 187, in _execute_on_connection
    return connection._execute_ddl(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1530, in _execute_ddl
    ret = self._execute_context(
        dialect,
    ...<4 lines>...
        compiled,
    )
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 182, in execute
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 342, in _handle_exception
    raise error
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py", line 164, in execute
    self.await_(_cursor.execute(operation, parameters))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/cursor.py", line 40, in execute
    await self._execute(self._cursor.execute, sql, parameters)
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/cursor.py", line 32, in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/core.py", line 160, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/Users/sam-bot/.openclaw/workspace/ai-analytics-platform/backend/venv/lib/python3.14/site-packages/aiosqlite/core.py", line 63, in _connection_worker_thread
    result = function()
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table tenants already exists
[SQL: 
CREATE TABLE tenants (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	slug VARCHAR NOT NULL, 
	"plan" VARCHAR, 
	settings JSON, 
	created_at DATETIME, 
	updated_at DATETIME, 
	PRIMARY KEY (id), 
	UNIQUE (slug)
)

]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

ERROR:    Application startup failed. Exiting.
